import{W as x,r as b,j as a,a as e,b as g,d as N,c as y,g as w}from"./app-9d9e1855.js";import{A as v}from"./AuthenticatedLayout-88de24b6.js";import{C as R}from"./Container-18b55b6b.js";import{M as B}from"./index-a1b23ecb.js";import{P as D}from"./PrimaryButton-e36b8c5a.js";import{S as Q}from"./SecondaryButton-951bc8a4.js";import{P as r}from"./IconButton-dc81650c.js";import"./ApplicationLogo-f7c5511b.js";import"./transition-b44afae5.js";function z({auth:l,colaboradors_count:i,escala_count:n,registros:o,api_token:d}){const c=o,m=window.route;x();const[h,s]=b.useState(!1),u={download:!1,print:!1,viewColumns:!1,filter:!1,selectableRows:!1},p=[{name:"id",label:"#",options:{filter:!0,sort:!0}},{name:"colaboradors",label:"Nome",options:{filter:!0,sort:!0,customBodyRender:t=>t.nome}},{name:"longitude",label:"Longitude",options:{filter:!1,sort:!1}},{name:"latitude",label:"Latidude",options:{filter:!1,sort:!1}},{name:"created_at",label:"Data",options:{filter:!0,sort:!1,customBodyRender:t=>new Intl.DateTimeFormat("pt-br",{dateStyle:"short",timeStyle:"medium"}).format(new Date(t))}}],f=async()=>{try{s(!0);const t=await y.get("/api/start-queue",{headers:{Authorization:`Bearer ${d}`}});console.log(t),s(!1),w.reload()}catch{alert("Não existe nada na fila.")}finally{s(!1)}};return a(v,{user:l.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:[e(g,{title:"Dashboard"}),a(R,{children:[a("section",{className:"flex gap-5",children:[a(r,{className:"p-5 w-52 text-center",children:[e("h1",{className:"uppercase text-gray-500 font-semibold h-20",children:"registro de pontos:"}),a("div",{className:"text-center text-4xl",children:[" ",o.length," "]}),e("span",{className:"text-sm text-gray-400",children:"Quantidade de registro do Banco de dados."})]}),a(r,{className:"p-5 w-48 text-center",children:[e("h1",{className:"uppercase text-gray-500 font-semibold h-20",children:"Colaboradores:"}),a("div",{className:"text-center text-4xl",children:[" ",i," "]}),e("span",{className:"text-sm text-gray-400",children:"Quantidade de registro do Banco de dados."})]}),a(r,{className:"p-5 w-48 text-center",children:[e("h1",{className:"uppercase text-gray-500 font-semibold h-20",children:"Escalas:"}),a("div",{className:"text-center text-4xl",children:[" ",n||0," "]}),e("span",{className:"text-sm text-gray-400",children:"Quantidade de registro do Banco de dados."})]})]}),e("section",{children:a("div",{children:[e("h1",{className:"text-3xl pt-5",children:"Lista RabbitMQ"}),a("p",{className:"pt-5 text-zinc-600",children:["Os registros de ponto adicionados irão para a lista ",e("b",{children:"default"})," ",'do RabbitMQ. Depois de adicionar o registro de ponto, clique np botão CONSUMIR FILA que é possível "simular" um cosumer, que irá armazenar no banco de dados os itens que estão na fila.']})]})}),e("section",{className:"max-w-7xl mx-auto",children:a("div",{className:"flex justify-between items-center bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[e("div",{className:"p-6 text-gray-900",children:e("p",{children:"Grid com lista do rabbitMQ "})}),e("div",{children:e(Q,{className:"btn",onClick:f,children:h?"Aguarde...":"CONSUMIR FILA"})}),e(N,{href:m("registro-ponto.create"),children:a(D,{className:"m-4",children:[" ","Novo Registro de Ponto"," "]})})]})}),e(B,{title:"",data:c,columns:p,options:u})]}),e("div",{className:"py-12"})]})}export{z as default};
